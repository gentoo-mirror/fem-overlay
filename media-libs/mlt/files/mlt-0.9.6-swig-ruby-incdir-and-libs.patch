--- mlt-0.9.2/src/swig/ruby/build~	2015-01-22 17:08:35.551992380 +0100
+++ mlt-0.9.2/src/swig/ruby/build	2015-01-22 17:08:43.754889256 +0100
@@ -6,7 +6,9 @@
 end
 system( "ln -sf ../mlt.i" )
 system( "swig -c++ -ruby -I../../mlt++ -I../.. mlt.i" )
-$CFLAGS += " -I../.. " + (ENV.has_key?('CXXFLAGS')? ENV['CXXFLAGS'] : '')
-$LDFLAGS += " -L../../mlt++ -lmlt++"
-create_makefile('mlt')
+$CFLAGS   += " " + (ENV.has_key?('CXXFLAGS')? ENV['CXXFLAGS'] : '')
+$LDFLAGS  += " -lmlt++ -lmlt "
+$INCFLAGS += " -I../.. "
+create_makefile('mlt')
+system( "sed -ie \"/^LIBPATH/s|=|= -L../../mlt++ -L../../framework |\" Makefile" )
 system( "make" )
--- mlt-0.9.2/src/swig/Makefile~	2014-06-29 22:23:17.000000000 +0200
+++ mlt-0.9.2/src/swig/Makefile		2015-01-22 17:57:15.561282892 +0100
@@ -6,7 +6,7 @@
 	for subdir in $$list; do \
 		if [ -x $$subdir/build -a ! -f .$$subdir -o $@ = clean ] ; \
 		then echo -n Building $$subdir... ; \
-			cd $$subdir && output=$$(CXXFLAGS="$(CXXFLAGS)" ./build $@ 2>&1) ; \
+			cd $$subdir && output=$$(CXXFLAGS="$(CXXFLAGS)" ./build $@) ; \
 			if [ $$? -eq 0 ] ; \
 			then echo OK && touch ../.$$subdir ; \
 			else echo $$output && exit 1 ; \
