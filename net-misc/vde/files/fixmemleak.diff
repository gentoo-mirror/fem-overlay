Index: src/vde_switch/vde_switch.c
===================================================================
--- src/vde_switch/vde_switch.c	(revision 510)
+++ src/vde_switch/vde_switch.c	(working copy)
@@ -184,6 +184,7 @@ void add_fd(int fd,unsigned char type,void *privat
 	p->events = POLLIN | POLLHUP;
 	fdpp[index]->type=type;
 	fdpp[index]->private_data=private_data;
+	fdpp[index]->timestamp=0;
 	nfds++;
 }
 
Index: src/vde_switch/consmgmt.c
===================================================================
--- src/vde_switch/consmgmt.c	(revision 510)
+++ src/vde_switch/consmgmt.c	(working copy)
@@ -403,7 +403,7 @@ static void handle_io(unsigned char type,int fd,in
 #endif
 				remove_fd(fd);
 			}
-		} else {
+		} else if ( n > 0 ) { /* no error occured */
 			int cmdout;
 			buf[n]=0;
 			if (n>0 && buf[n-1] == '\n') buf[n-1] = 0;
Index: src/vde_switch/datasock.c
===================================================================
--- src/vde_switch/datasock.c	(revision 510)
+++ src/vde_switch/datasock.c	(working copy)
@@ -115,6 +115,8 @@ static struct endpoint *new_port_v1_v3(int fd_ctl,
 	int optsize = sizeof(sockbufsize);
 #endif
 	struct sockaddr_un sun_in;
+	// init sun_in memory
+	memset(&sun_in,0,sizeof(sun_in));
 	switch(type){
 		case REQ_NEW_PORT0:
 			port_request= -1;
